{% extends "base.html" %}
{% block content %}

<section class="hero">
  <div class="heroCard">
    <div class="heroLeft">
      <h2>Make recognition feel like a product ✨</h2>
      <p>Capture faces, train model, verify identity, and issue certificates — all in one dashboard.</p>
      <div class="chips">
        <span class="chip">OpenCV</span>
        <span class="chip">Flask</span>
        <span class="chip">LBPH</span>
        <span class="chip">Certificates</span>
      </div>
    </div>

    <div class="heroRight">
      <div class="metric">
        <div class="metricVal" id="metricUsers">—</div>
        <div class="metricLabel">Registered Users</div>
      </div>
      <div class="metric">
        <div class="metricVal" id="metricModel">—</div>
        <div class="metricLabel">Model Status</div>
      </div>
      <div class="metric">
        <div class="metricVal" id="metricAwards">—</div>
        <div class="metricLabel">Certificates</div>
      </div>
    </div>
  </div>
</section>

<section class="grid">
  <!-- Register -->
  <div class="card accentA">
    <div class="cardHead">
      <div>
        <h3>Register</h3>
        <p>Add a new user and capture face samples.</p>
      </div>
      <span class="badge">Step 1</span>
    </div>

    <div class="formRow">
      <label>Full Name</label>
      <input id="regName" placeholder="e.g., Suryansa Patra" />
    </div>
    <div class="formRow">
      <label>Email (optional)</label>
      <input id="regEmail" placeholder="e.g., suryansapatra200@gmail.com" />
    </div>

    <button class="btn primary" onclick="registerUser()">
      <span>Capture Face</span>
      <span class="kbd">Enter</span>
    </button>

    <div class="note">
      Tip: good lighting + face centered = better accuracy.
    </div>
  </div>

  <!-- Train -->
  <div class="card accentB">
    <div class="cardHead">
      <div>
        <h3>Train Model</h3>
        <p>Train LBPH using all registered users.</p>
      </div>
      <span class="badge">Step 2</span>
    </div>

    <button class="btn soft" onclick="trainModel()">
      Train LBPH Model
    </button>

    <div class="miniStatus" id="trainStatus">Model not trained yet.</div>
  </div>

  <!-- Verify -->
  <div class="card accentC">
    <div class="cardHead">
      <div>
        <h3>Verify</h3>
        <p>Match a face against your trained model.</p>
      </div>
      <span class="badge">Step 3</span>
    </div>

    <button class="btn primary" onclick="verifyFace()">
      Verify Now
    </button>

    <div class="result" id="verifyResult">
      No verification yet.
    </div>
  </div>

  <!-- Award -->
  <div class="card accentD">
    <div class="cardHead">
      <div>
        <h3>Award</h3>
        <p>Generate a certificate for the verified user.</p>
      </div>
      <span class="badge">Step 4</span>
    </div>

    <div class="formRow">
      <label>Verified Name</label>
      <input id="awardName" placeholder="Auto-filled after verify" />
    </div>

    <div class="formRow">
      <label>Award Title</label>
      <input id="awardTitle" placeholder="e.g., Best Performer" />
    </div>

    <button class="btn primary" onclick="generateAward()">
      Generate Certificate
    </button>

    <div class="result" id="awardResult">
      No certificate yet.
    </div>
  </div>
</section>

<footer class="footer">
  <span>Built with Flask + OpenCV</span>
  <span class="dotSep">•</span>
  <span>Keep light bright for best accuracy</span>
</footer>

{% endblock %}
